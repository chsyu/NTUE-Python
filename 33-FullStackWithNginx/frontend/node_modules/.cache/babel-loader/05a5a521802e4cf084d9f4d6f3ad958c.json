{"ast":null,"code":"var _jsxFileName = \"/app/src/store/index.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect } from \"react\";\nimport useReducerWithThunk from \"use-reducer-thunk\";\nimport { SET_PAGE_TITLE, SET_PAGE_CONTENT, SET_NAVBAR_ACTIVEITEM, ADD_CART_ITEM, REMOVE_CART_ITEM, SET_PRODUCT_DETAIL, BEGIN_PRODUCTS_REQUEST, SUCCESS_PRODUCTS_REQUEST, FAIL_PRODUCTS_REQUEST, BEGIN_LOGIN_REQUEST, SUCCESS_LOGIN_REQUEST, FAIL_LOGIN_REQUEST, BEGIN_REGISTER_REQUEST, SUCCESS_REGISTER_REQUEST, FAIL_REGISTER_REQUEST, LOGOUT_REQUEST, BEGIN_UPDATE_USERINFO, SUCCESS_UPDATE_USERINFO, FAIL_UPDATE_USERINFO, REMEMBER_LOGIN, BEGIN_ORDER_CREATE, SUCCESS_ORDER_CREATE, FAIL_ORDER_CREATE, SAVE_SHIPPING_ADDRESS, SAVE_PAYMENT_METHOD, RESET_ORDER, BEGIN_ORDER_DETAIL, SUCCESS_ORDER_DETAIL, FAIL_ORDER_DETAIL } from \"../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const StoreContext = /*#__PURE__*/createContext();\nlet cartItems = localStorage.getItem(\"cartItems\") ? JSON.parse(localStorage.getItem(\"cartItems\")) : [];\nconst initialState = {\n  allProducts: [],\n  page: {\n    title: \"\",\n    products: []\n  },\n  productDetail: {\n    product: [],\n    qty: 1\n  },\n  navBar: {\n    activeItem: \"/\"\n  },\n  cart: {\n    cartItems,\n    shippingAddress: localStorage.getItem(\"shippingAddress\") ? JSON.parse(localStorage.getItem(\"shippingAddress\")) : {},\n    paymentMethod: \"Google\"\n  },\n  orderInfo: {\n    loading: false,\n    order: localStorage.getItem(\"orderInfo\") ? JSON.parse(localStorage.getItem(\"orderInfo\")) : {\n      id: \"\"\n    },\n    success: false,\n    error: null\n  },\n  orderDetail: {\n    loading: true,\n    order: {\n      cartItems: []\n    },\n    error: null\n  },\n  requestProducts: {\n    loading: false,\n    error: null\n  },\n  userSignin: {\n    loading: false,\n    userInfo: localStorage.getItem(\"userInfo\") ? JSON.parse(localStorage.getItem(\"userInfo\")) : null,\n    remember: true,\n    error: \"\"\n  },\n  userRegister: {\n    loading: false,\n    userInfo: null,\n    error: \"\"\n  }\n};\n\nfunction reducer(state, action) {\n  console.log(action.type);\n\n  switch (action.type) {\n    case SET_PAGE_TITLE:\n      return { ...state,\n        page: { ...state.page,\n          title: action.payload\n        }\n      };\n\n    case SET_PAGE_CONTENT:\n      return { ...state,\n        page: action.payload\n      };\n\n    case SET_NAVBAR_ACTIVEITEM:\n      return { ...state,\n        navBar: {\n          activeItem: action.payload\n        }\n      };\n\n    case ADD_CART_ITEM:\n      const item = action.payload;\n      const product = state.cart.cartItems.find(x => x.id === item.id);\n\n      if (product) {\n        cartItems = state.cart.cartItems.map(x => x.id === product.id ? item : x);\n        return { ...state,\n          cart: { ...state.cart,\n            cartItems\n          }\n        };\n      }\n\n      cartItems = [...state.cart.cartItems, item];\n      return { ...state,\n        cart: { ...state.cart,\n          cartItems\n        }\n      };\n\n    case REMOVE_CART_ITEM:\n      cartItems = state.cart.cartItems.filter(x => x.id !== action.payload);\n      return { ...state,\n        cart: { ...state.cart,\n          cartItems\n        }\n      };\n\n    case SAVE_SHIPPING_ADDRESS:\n      console.log(\"action.payload.shippingAddress = \");\n      console.log(action.payload);\n      return { ...state,\n        cart: { ...state.cart,\n          shippingAddress: action.payload\n        }\n      };\n\n    case SAVE_PAYMENT_METHOD:\n      return { ...state,\n        cart: { ...state.cart,\n          paymentMethod: action.payload\n        }\n      };\n\n    case SET_PRODUCT_DETAIL:\n      return { ...state,\n        productDetail: { ...state.productDetail,\n          ...action.payload\n        }\n      };\n\n    case BEGIN_PRODUCTS_REQUEST:\n      return { ...state,\n        requestProducts: { ...state.requestProducts,\n          loading: true\n        }\n      };\n\n    case SUCCESS_PRODUCTS_REQUEST:\n      return { ...state,\n        requestProducts: { ...state.requestProducts,\n          loading: false\n        }\n      };\n\n    case FAIL_PRODUCTS_REQUEST:\n      return { ...state,\n        requestProducts: { ...state.requestProducts,\n          loading: false,\n          error: action.payload\n        }\n      };\n\n    case BEGIN_LOGIN_REQUEST:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: true\n        }\n      };\n\n    case SUCCESS_LOGIN_REQUEST:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\"\n        }\n      };\n\n    case FAIL_LOGIN_REQUEST:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          userInfo: null,\n          error: action.payload\n        }\n      };\n\n    case BEGIN_UPDATE_USERINFO:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: true\n        }\n      };\n\n    case SUCCESS_UPDATE_USERINFO:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\"\n        }\n      };\n\n    case FAIL_UPDATE_USERINFO:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          error: action.payload\n        }\n      };\n\n    case BEGIN_REGISTER_REQUEST:\n      return { ...state,\n        userRegister: { ...state.userRegister,\n          loading: true\n        }\n      };\n\n    case SUCCESS_REGISTER_REQUEST:\n      return { ...state,\n        userRegister: { ...state.userRegister,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\"\n        },\n        userSignin: { ...state.userSignin,\n          userInfo: action.payload\n        }\n      };\n\n    case FAIL_REGISTER_REQUEST:\n      return { ...state,\n        userRegister: { ...state.userRegister,\n          loading: false,\n          userInfo: null,\n          error: action.payload\n        }\n      };\n\n    case LOGOUT_REQUEST:\n      cartItems = [];\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          userInfo: null\n        }\n      };\n\n    case REMEMBER_LOGIN:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          remember: action.payload\n        }\n      };\n\n    case BEGIN_ORDER_CREATE:\n      return { ...state,\n        orderInfo: { ...state.orderInfo,\n          loading: true,\n          success: false\n        }\n      };\n\n    case SUCCESS_ORDER_CREATE:\n      return { ...state,\n        orderInfo: { ...state.orderInfo,\n          loading: false,\n          order: action.payload,\n          success: true,\n          error: null\n        }\n      };\n\n    case FAIL_ORDER_CREATE:\n      return { ...state,\n        orderInfo: { ...state.orderInfo,\n          loading: false,\n          order: {\n            id: \"\"\n          },\n          success: false,\n          error: action.payload\n        }\n      };\n\n    case RESET_ORDER:\n      return { ...state,\n        orderInfo: { ...state.orderInfo,\n          loading: false,\n          order: {\n            id: \"\"\n          },\n          success: false\n        }\n      };\n\n    case BEGIN_ORDER_DETAIL:\n      return { ...state,\n        orderDetail: { ...state.orderDetail,\n          loading: true\n        }\n      };\n\n    case SUCCESS_ORDER_DETAIL:\n      return { ...state,\n        orderDetail: { ...state.orderDetail,\n          loading: false,\n          order: action.payload\n        }\n      };\n\n    case FAIL_ORDER_DETAIL:\n      return { ...state,\n        orderDetail: { ...state.orderDetail,\n          loading: false,\n          error: action.payload\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport function StoreProvider(props) {\n  _s();\n\n  const [state, dispatch] = useReducerWithThunk(reducer, initialState, \"example\");\n  const value = {\n    state,\n    dispatch\n  };\n  useEffect(() => {\n    console.log(state);\n  }, [state]);\n  return /*#__PURE__*/_jsxDEV(StoreContext.Provider, {\n    value: value,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 340,\n    columnNumber: 5\n  }, this);\n}\n\n_s(StoreProvider, \"sQrs64UxfbSFRNxqCPOOUE7J8wM=\", false, function () {\n  return [useReducerWithThunk];\n});\n\n_c = StoreProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreProvider\");","map":{"version":3,"sources":["/app/src/store/index.js"],"names":["createContext","useEffect","useReducerWithThunk","SET_PAGE_TITLE","SET_PAGE_CONTENT","SET_NAVBAR_ACTIVEITEM","ADD_CART_ITEM","REMOVE_CART_ITEM","SET_PRODUCT_DETAIL","BEGIN_PRODUCTS_REQUEST","SUCCESS_PRODUCTS_REQUEST","FAIL_PRODUCTS_REQUEST","BEGIN_LOGIN_REQUEST","SUCCESS_LOGIN_REQUEST","FAIL_LOGIN_REQUEST","BEGIN_REGISTER_REQUEST","SUCCESS_REGISTER_REQUEST","FAIL_REGISTER_REQUEST","LOGOUT_REQUEST","BEGIN_UPDATE_USERINFO","SUCCESS_UPDATE_USERINFO","FAIL_UPDATE_USERINFO","REMEMBER_LOGIN","BEGIN_ORDER_CREATE","SUCCESS_ORDER_CREATE","FAIL_ORDER_CREATE","SAVE_SHIPPING_ADDRESS","SAVE_PAYMENT_METHOD","RESET_ORDER","BEGIN_ORDER_DETAIL","SUCCESS_ORDER_DETAIL","FAIL_ORDER_DETAIL","StoreContext","cartItems","localStorage","getItem","JSON","parse","initialState","allProducts","page","title","products","productDetail","product","qty","navBar","activeItem","cart","shippingAddress","paymentMethod","orderInfo","loading","order","id","success","error","orderDetail","requestProducts","userSignin","userInfo","remember","userRegister","reducer","state","action","console","log","type","payload","item","find","x","map","filter","StoreProvider","props","dispatch","value","children"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,SAAxB,QAAyC,OAAzC;AACA,OAAOC,mBAAP,MAAgC,mBAAhC;AACA,SACEC,cADF,EAEEC,gBAFF,EAGEC,qBAHF,EAIEC,aAJF,EAKEC,gBALF,EAMEC,kBANF,EAOEC,sBAPF,EAQEC,wBARF,EASEC,qBATF,EAUEC,mBAVF,EAWEC,qBAXF,EAYEC,kBAZF,EAaEC,sBAbF,EAcEC,wBAdF,EAeEC,qBAfF,EAgBEC,cAhBF,EAiBEC,qBAjBF,EAkBEC,uBAlBF,EAmBEC,oBAnBF,EAoBEC,cApBF,EAqBEC,kBArBF,EAsBEC,oBAtBF,EAuBEC,iBAvBF,EAwBEC,qBAxBF,EAyBEC,mBAzBF,EA0BEC,WA1BF,EA2BEC,kBA3BF,EA4BEC,oBA5BF,EA6BEC,iBA7BF,QA8BO,oBA9BP;;AAgCA,OAAO,MAAMC,YAAY,gBAAGhC,aAAa,EAAlC;AACP,IAAIiC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,IACZC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CADY,GAEZ,EAFJ;AAIA,MAAMG,YAAY,GAAG;AACnBC,EAAAA,WAAW,EAAE,EADM;AAEnBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,EADH;AAEJC,IAAAA,QAAQ,EAAE;AAFN,GAFa;AAMnBC,EAAAA,aAAa,EAAE;AACbC,IAAAA,OAAO,EAAE,EADI;AAEbC,IAAAA,GAAG,EAAE;AAFQ,GANI;AAUnBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,UAAU,EAAE;AADN,GAVW;AAanBC,EAAAA,IAAI,EAAE;AACJf,IAAAA,SADI;AAEJgB,IAAAA,eAAe,EAAEf,YAAY,CAACC,OAAb,CAAqB,iBAArB,IACbC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CADa,GAEb,EAJA;AAKJe,IAAAA,aAAa,EAAE;AALX,GAba;AAoBnBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,OAAO,EAAE,KADA;AAETC,IAAAA,KAAK,EAAEnB,YAAY,CAACC,OAAb,CAAqB,WAArB,IACHC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CADG,GAEH;AAAEmB,MAAAA,EAAE,EAAE;AAAN,KAJK;AAKTC,IAAAA,OAAO,EAAE,KALA;AAMTC,IAAAA,KAAK,EAAE;AANE,GApBQ;AA4BnBC,EAAAA,WAAW,EAAE;AACXL,IAAAA,OAAO,EAAE,IADE;AAEXC,IAAAA,KAAK,EAAE;AAAEpB,MAAAA,SAAS,EAAE;AAAb,KAFI;AAGXuB,IAAAA,KAAK,EAAE;AAHI,GA5BM;AAiCnBE,EAAAA,eAAe,EAAE;AACfN,IAAAA,OAAO,EAAE,KADM;AAEfI,IAAAA,KAAK,EAAE;AAFQ,GAjCE;AAqCnBG,EAAAA,UAAU,EAAE;AACVP,IAAAA,OAAO,EAAE,KADC;AAEVQ,IAAAA,QAAQ,EAAE1B,YAAY,CAACC,OAAb,CAAqB,UAArB,IACNC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CADM,GAEN,IAJM;AAKV0B,IAAAA,QAAQ,EAAE,IALA;AAMVL,IAAAA,KAAK,EAAE;AANG,GArCO;AA6CnBM,EAAAA,YAAY,EAAE;AACZV,IAAAA,OAAO,EAAE,KADG;AAEZQ,IAAAA,QAAQ,EAAE,IAFE;AAGZJ,IAAAA,KAAK,EAAE;AAHK;AA7CK,CAArB;;AAoDA,SAASO,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,IAAnB;;AACA,UAAQH,MAAM,CAACG,IAAf;AACE,SAAKjE,cAAL;AACE,aAAO,EACL,GAAG6D,KADE;AAELxB,QAAAA,IAAI,EAAE,EACJ,GAAGwB,KAAK,CAACxB,IADL;AAEJC,UAAAA,KAAK,EAAEwB,MAAM,CAACI;AAFV;AAFD,OAAP;;AAOF,SAAKjE,gBAAL;AACE,aAAO,EACL,GAAG4D,KADE;AAELxB,QAAAA,IAAI,EAAEyB,MAAM,CAACI;AAFR,OAAP;;AAIF,SAAKhE,qBAAL;AACE,aAAO,EACL,GAAG2D,KADE;AAELlB,QAAAA,MAAM,EAAE;AACNC,UAAAA,UAAU,EAAEkB,MAAM,CAACI;AADb;AAFH,OAAP;;AAMF,SAAK/D,aAAL;AACE,YAAMgE,IAAI,GAAGL,MAAM,CAACI,OAApB;AACA,YAAMzB,OAAO,GAAGoB,KAAK,CAAChB,IAAN,CAAWf,SAAX,CAAqBsC,IAArB,CAA2BC,CAAD,IAAOA,CAAC,CAAClB,EAAF,KAASgB,IAAI,CAAChB,EAA/C,CAAhB;;AACA,UAAIV,OAAJ,EAAa;AACXX,QAAAA,SAAS,GAAG+B,KAAK,CAAChB,IAAN,CAAWf,SAAX,CAAqBwC,GAArB,CAA0BD,CAAD,IACnCA,CAAC,CAAClB,EAAF,KAASV,OAAO,CAACU,EAAjB,GAAsBgB,IAAtB,GAA6BE,CADnB,CAAZ;AAGA,eAAO,EAAE,GAAGR,KAAL;AAAYhB,UAAAA,IAAI,EAAE,EAAE,GAAGgB,KAAK,CAAChB,IAAX;AAAiBf,YAAAA;AAAjB;AAAlB,SAAP;AACD;;AACDA,MAAAA,SAAS,GAAG,CAAC,GAAG+B,KAAK,CAAChB,IAAN,CAAWf,SAAf,EAA0BqC,IAA1B,CAAZ;AACA,aAAO,EAAE,GAAGN,KAAL;AAAYhB,QAAAA,IAAI,EAAE,EAAE,GAAGgB,KAAK,CAAChB,IAAX;AAAiBf,UAAAA;AAAjB;AAAlB,OAAP;;AACF,SAAK1B,gBAAL;AACE0B,MAAAA,SAAS,GAAG+B,KAAK,CAAChB,IAAN,CAAWf,SAAX,CAAqByC,MAArB,CAA6BF,CAAD,IAAOA,CAAC,CAAClB,EAAF,KAASW,MAAM,CAACI,OAAnD,CAAZ;AACA,aAAO,EAAE,GAAGL,KAAL;AAAYhB,QAAAA,IAAI,EAAE,EAAE,GAAGgB,KAAK,CAAChB,IAAX;AAAiBf,UAAAA;AAAjB;AAAlB,OAAP;;AACF,SAAKP,qBAAL;AACEwC,MAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACI,OAAnB;AACA,aAAO,EACL,GAAGL,KADE;AAELhB,QAAAA,IAAI,EAAE,EAAE,GAAGgB,KAAK,CAAChB,IAAX;AAAiBC,UAAAA,eAAe,EAAEgB,MAAM,CAACI;AAAzC;AAFD,OAAP;;AAIF,SAAK1C,mBAAL;AACE,aAAO,EACL,GAAGqC,KADE;AAELhB,QAAAA,IAAI,EAAE,EAAE,GAAGgB,KAAK,CAAChB,IAAX;AAAiBE,UAAAA,aAAa,EAAEe,MAAM,CAACI;AAAvC;AAFD,OAAP;;AAIF,SAAK7D,kBAAL;AACE,aAAO,EACL,GAAGwD,KADE;AAELrB,QAAAA,aAAa,EAAE,EAAE,GAAGqB,KAAK,CAACrB,aAAX;AAA0B,aAAGsB,MAAM,CAACI;AAApC;AAFV,OAAP;;AAIF,SAAK5D,sBAAL;AACE,aAAO,EACL,GAAGuD,KADE;AAELN,QAAAA,eAAe,EAAE,EAAE,GAAGM,KAAK,CAACN,eAAX;AAA4BN,UAAAA,OAAO,EAAE;AAArC;AAFZ,OAAP;;AAIF,SAAK1C,wBAAL;AACE,aAAO,EACL,GAAGsD,KADE;AAELN,QAAAA,eAAe,EAAE,EAAE,GAAGM,KAAK,CAACN,eAAX;AAA4BN,UAAAA,OAAO,EAAE;AAArC;AAFZ,OAAP;;AAIF,SAAKzC,qBAAL;AACE,aAAO,EACL,GAAGqD,KADE;AAELN,QAAAA,eAAe,EAAE,EACf,GAAGM,KAAK,CAACN,eADM;AAEfN,UAAAA,OAAO,EAAE,KAFM;AAGfI,UAAAA,KAAK,EAAES,MAAM,CAACI;AAHC;AAFZ,OAAP;;AAQF,SAAKzD,mBAAL;AACE,aAAO,EAAE,GAAGoD,KAAL;AAAYL,QAAAA,UAAU,EAAE,EAAE,GAAGK,KAAK,CAACL,UAAX;AAAuBP,UAAAA,OAAO,EAAE;AAAhC;AAAxB,OAAP;;AACF,SAAKvC,qBAAL;AACE,aAAO,EACL,GAAGmD,KADE;AAELL,QAAAA,UAAU,EAAE,EACV,GAAGK,KAAK,CAACL,UADC;AAEVP,UAAAA,OAAO,EAAE,KAFC;AAGVQ,UAAAA,QAAQ,EAAEK,MAAM,CAACI,OAHP;AAIVb,UAAAA,KAAK,EAAE;AAJG;AAFP,OAAP;;AASF,SAAK1C,kBAAL;AACE,aAAO,EACL,GAAGkD,KADE;AAELL,QAAAA,UAAU,EAAE,EACV,GAAGK,KAAK,CAACL,UADC;AAEVP,UAAAA,OAAO,EAAE,KAFC;AAGVQ,UAAAA,QAAQ,EAAE,IAHA;AAIVJ,UAAAA,KAAK,EAAES,MAAM,CAACI;AAJJ;AAFP,OAAP;;AASF,SAAKlD,qBAAL;AACE,aAAO,EAAE,GAAG6C,KAAL;AAAYL,QAAAA,UAAU,EAAE,EAAE,GAAGK,KAAK,CAACL,UAAX;AAAuBP,UAAAA,OAAO,EAAE;AAAhC;AAAxB,OAAP;;AACF,SAAKhC,uBAAL;AACE,aAAO,EACL,GAAG4C,KADE;AAELL,QAAAA,UAAU,EAAE,EACV,GAAGK,KAAK,CAACL,UADC;AAEVP,UAAAA,OAAO,EAAE,KAFC;AAGVQ,UAAAA,QAAQ,EAAEK,MAAM,CAACI,OAHP;AAIVb,UAAAA,KAAK,EAAE;AAJG;AAFP,OAAP;;AASF,SAAKnC,oBAAL;AACE,aAAO,EACL,GAAG2C,KADE;AAELL,QAAAA,UAAU,EAAE,EACV,GAAGK,KAAK,CAACL,UADC;AAEVP,UAAAA,OAAO,EAAE,KAFC;AAGVI,UAAAA,KAAK,EAAES,MAAM,CAACI;AAHJ;AAFP,OAAP;;AAQF,SAAKtD,sBAAL;AACE,aAAO,EACL,GAAGiD,KADE;AAELF,QAAAA,YAAY,EAAE,EAAE,GAAGE,KAAK,CAACF,YAAX;AAAyBV,UAAAA,OAAO,EAAE;AAAlC;AAFT,OAAP;;AAIF,SAAKpC,wBAAL;AACE,aAAO,EACL,GAAGgD,KADE;AAELF,QAAAA,YAAY,EAAE,EACZ,GAAGE,KAAK,CAACF,YADG;AAEZV,UAAAA,OAAO,EAAE,KAFG;AAGZQ,UAAAA,QAAQ,EAAEK,MAAM,CAACI,OAHL;AAIZb,UAAAA,KAAK,EAAE;AAJK,SAFT;AAQLG,QAAAA,UAAU,EAAE,EACV,GAAGK,KAAK,CAACL,UADC;AAEVC,UAAAA,QAAQ,EAAEK,MAAM,CAACI;AAFP;AARP,OAAP;;AAaF,SAAKpD,qBAAL;AACE,aAAO,EACL,GAAG+C,KADE;AAELF,QAAAA,YAAY,EAAE,EACZ,GAAGE,KAAK,CAACF,YADG;AAEZV,UAAAA,OAAO,EAAE,KAFG;AAGZQ,UAAAA,QAAQ,EAAE,IAHE;AAIZJ,UAAAA,KAAK,EAAES,MAAM,CAACI;AAJF;AAFT,OAAP;;AASF,SAAKnD,cAAL;AACEe,MAAAA,SAAS,GAAG,EAAZ;AACA,aAAO,EACL,GAAG+B,KADE;AAELL,QAAAA,UAAU,EAAE,EACV,GAAGK,KAAK,CAACL,UADC;AAEVC,UAAAA,QAAQ,EAAE;AAFA;AAFP,OAAP;;AAOF,SAAKtC,cAAL;AACE,aAAO,EACL,GAAG0C,KADE;AAELL,QAAAA,UAAU,EAAE,EACV,GAAGK,KAAK,CAACL,UADC;AAEVE,UAAAA,QAAQ,EAAEI,MAAM,CAACI;AAFP;AAFP,OAAP;;AAOF,SAAK9C,kBAAL;AACE,aAAO,EACL,GAAGyC,KADE;AAELb,QAAAA,SAAS,EAAE,EACT,GAAGa,KAAK,CAACb,SADA;AAETC,UAAAA,OAAO,EAAE,IAFA;AAGTG,UAAAA,OAAO,EAAE;AAHA;AAFN,OAAP;;AAQF,SAAK/B,oBAAL;AACE,aAAO,EACL,GAAGwC,KADE;AAELb,QAAAA,SAAS,EAAE,EACT,GAAGa,KAAK,CAACb,SADA;AAETC,UAAAA,OAAO,EAAE,KAFA;AAGTC,UAAAA,KAAK,EAAEY,MAAM,CAACI,OAHL;AAITd,UAAAA,OAAO,EAAE,IAJA;AAKTC,UAAAA,KAAK,EAAE;AALE;AAFN,OAAP;;AAUF,SAAK/B,iBAAL;AACE,aAAO,EACL,GAAGuC,KADE;AAELb,QAAAA,SAAS,EAAE,EACT,GAAGa,KAAK,CAACb,SADA;AAETC,UAAAA,OAAO,EAAE,KAFA;AAGTC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,EAAE,EAAE;AAAN,WAHE;AAITC,UAAAA,OAAO,EAAE,KAJA;AAKTC,UAAAA,KAAK,EAAES,MAAM,CAACI;AALL;AAFN,OAAP;;AAUF,SAAKzC,WAAL;AACE,aAAO,EACL,GAAGoC,KADE;AAELb,QAAAA,SAAS,EAAE,EACT,GAAGa,KAAK,CAACb,SADA;AAETC,UAAAA,OAAO,EAAE,KAFA;AAGTC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,EAAE,EAAE;AAAN,WAHE;AAITC,UAAAA,OAAO,EAAE;AAJA;AAFN,OAAP;;AAUF,SAAK1B,kBAAL;AACE,aAAO,EACL,GAAGmC,KADE;AAELP,QAAAA,WAAW,EAAE,EACX,GAAGO,KAAK,CAACP,WADE;AAEXL,UAAAA,OAAO,EAAE;AAFE;AAFR,OAAP;;AAOF,SAAKtB,oBAAL;AACE,aAAO,EACL,GAAGkC,KADE;AAELP,QAAAA,WAAW,EAAE,EACX,GAAGO,KAAK,CAACP,WADE;AAEXL,UAAAA,OAAO,EAAE,KAFE;AAGXC,UAAAA,KAAK,EAAEY,MAAM,CAACI;AAHH;AAFR,OAAP;;AAQF,SAAKtC,iBAAL;AACE,aAAO,EACL,GAAGiC,KADE;AAELP,QAAAA,WAAW,EAAE,EACX,GAAGO,KAAK,CAACP,WADE;AAEXL,UAAAA,OAAO,EAAE,KAFE;AAGXI,UAAAA,KAAK,EAAES,MAAM,CAACI;AAHH;AAFR,OAAP;;AAQF;AACE,aAAOL,KAAP;AArOJ;AAuOD;;AAED,OAAO,SAASW,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AACnC,QAAM,CAACZ,KAAD,EAAQa,QAAR,IAAoB3E,mBAAmB,CAC3C6D,OAD2C,EAE3CzB,YAF2C,EAG3C,SAH2C,CAA7C;AAKA,QAAMwC,KAAK,GAAG;AAAEd,IAAAA,KAAF;AAASa,IAAAA;AAAT,GAAd;AAEA5E,EAAAA,SAAS,CAAC,MAAI;AACZiE,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,GAFQ,EAEP,CAACA,KAAD,CAFO,CAAT;AAIA,sBACE,QAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAEc,KAA9B;AAAA,cACGF,KAAK,CAACG;AADT;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GAjBeJ,a;UACYzE,mB;;;KADZyE,a","sourcesContent":["import { createContext, useEffect } from \"react\";\nimport useReducerWithThunk from \"use-reducer-thunk\";\nimport {\n  SET_PAGE_TITLE,\n  SET_PAGE_CONTENT,\n  SET_NAVBAR_ACTIVEITEM,\n  ADD_CART_ITEM,\n  REMOVE_CART_ITEM,\n  SET_PRODUCT_DETAIL,\n  BEGIN_PRODUCTS_REQUEST,\n  SUCCESS_PRODUCTS_REQUEST,\n  FAIL_PRODUCTS_REQUEST,\n  BEGIN_LOGIN_REQUEST,\n  SUCCESS_LOGIN_REQUEST,\n  FAIL_LOGIN_REQUEST,\n  BEGIN_REGISTER_REQUEST,\n  SUCCESS_REGISTER_REQUEST,\n  FAIL_REGISTER_REQUEST,\n  LOGOUT_REQUEST,\n  BEGIN_UPDATE_USERINFO,\n  SUCCESS_UPDATE_USERINFO,\n  FAIL_UPDATE_USERINFO,\n  REMEMBER_LOGIN,\n  BEGIN_ORDER_CREATE,\n  SUCCESS_ORDER_CREATE,\n  FAIL_ORDER_CREATE,\n  SAVE_SHIPPING_ADDRESS,\n  SAVE_PAYMENT_METHOD,\n  RESET_ORDER,\n  BEGIN_ORDER_DETAIL,\n  SUCCESS_ORDER_DETAIL,\n  FAIL_ORDER_DETAIL,\n} from \"../utils/constants\";\n\nexport const StoreContext = createContext();\nlet cartItems = localStorage.getItem(\"cartItems\")\n  ? JSON.parse(localStorage.getItem(\"cartItems\"))\n  : [];\n\nconst initialState = {\n  allProducts: [],\n  page: {\n    title: \"\",\n    products: [],\n  },\n  productDetail: {\n    product: [],\n    qty: 1,\n  },\n  navBar: {\n    activeItem: \"/\",\n  },\n  cart: {\n    cartItems,\n    shippingAddress: localStorage.getItem(\"shippingAddress\")\n      ? JSON.parse(localStorage.getItem(\"shippingAddress\"))\n      : {},\n    paymentMethod: \"Google\",\n  },\n  orderInfo: {\n    loading: false,\n    order: localStorage.getItem(\"orderInfo\")\n      ? JSON.parse(localStorage.getItem(\"orderInfo\"))\n      : { id: \"\" },\n    success: false,\n    error: null,\n  },\n  orderDetail: {\n    loading: true,\n    order: { cartItems: [] },\n    error: null,\n  },\n  requestProducts: {\n    loading: false,\n    error: null,\n  },\n  userSignin: {\n    loading: false,\n    userInfo: localStorage.getItem(\"userInfo\")\n      ? JSON.parse(localStorage.getItem(\"userInfo\"))\n      : null,\n    remember: true,\n    error: \"\",\n  },\n  userRegister: {\n    loading: false,\n    userInfo: null,\n    error: \"\",\n  },\n};\n\nfunction reducer(state, action) {\n  console.log(action.type)\n  switch (action.type) {\n    case SET_PAGE_TITLE:\n      return {\n        ...state,\n        page: {\n          ...state.page,\n          title: action.payload,\n        },\n      };\n    case SET_PAGE_CONTENT:\n      return {\n        ...state,\n        page: action.payload,\n      };\n    case SET_NAVBAR_ACTIVEITEM:\n      return {\n        ...state,\n        navBar: {\n          activeItem: action.payload,\n        },\n      };\n    case ADD_CART_ITEM:\n      const item = action.payload;\n      const product = state.cart.cartItems.find((x) => x.id === item.id);\n      if (product) {\n        cartItems = state.cart.cartItems.map((x) =>\n          x.id === product.id ? item : x\n        );\n        return { ...state, cart: { ...state.cart, cartItems } };\n      }\n      cartItems = [...state.cart.cartItems, item];\n      return { ...state, cart: { ...state.cart, cartItems } };\n    case REMOVE_CART_ITEM:\n      cartItems = state.cart.cartItems.filter((x) => x.id !== action.payload);\n      return { ...state, cart: { ...state.cart, cartItems } };\n    case SAVE_SHIPPING_ADDRESS:\n      console.log(\"action.payload.shippingAddress = \");\n      console.log(action.payload);\n      return {\n        ...state,\n        cart: { ...state.cart, shippingAddress: action.payload },\n      };\n    case SAVE_PAYMENT_METHOD:\n      return {\n        ...state,\n        cart: { ...state.cart, paymentMethod: action.payload },\n      };\n    case SET_PRODUCT_DETAIL:\n      return {\n        ...state,\n        productDetail: { ...state.productDetail, ...action.payload },\n      };\n    case BEGIN_PRODUCTS_REQUEST:\n      return {\n        ...state,\n        requestProducts: { ...state.requestProducts, loading: true },\n      };\n    case SUCCESS_PRODUCTS_REQUEST:\n      return {\n        ...state,\n        requestProducts: { ...state.requestProducts, loading: false },\n      };\n    case FAIL_PRODUCTS_REQUEST:\n      return {\n        ...state,\n        requestProducts: {\n          ...state.requestProducts,\n          loading: false,\n          error: action.payload,\n        },\n      };\n    case BEGIN_LOGIN_REQUEST:\n      return { ...state, userSignin: { ...state.userSignin, loading: true } };\n    case SUCCESS_LOGIN_REQUEST:\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\",\n        },\n      };\n    case FAIL_LOGIN_REQUEST:\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          loading: false,\n          userInfo: null,\n          error: action.payload,\n        },\n      };\n    case BEGIN_UPDATE_USERINFO:\n      return { ...state, userSignin: { ...state.userSignin, loading: true } };\n    case SUCCESS_UPDATE_USERINFO:\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\",\n        },\n      };\n    case FAIL_UPDATE_USERINFO:\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          loading: false,\n          error: action.payload,\n        },\n      };\n    case BEGIN_REGISTER_REQUEST:\n      return {\n        ...state,\n        userRegister: { ...state.userRegister, loading: true },\n      };\n    case SUCCESS_REGISTER_REQUEST:\n      return {\n        ...state,\n        userRegister: {\n          ...state.userRegister,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\",\n        },\n        userSignin: {\n          ...state.userSignin,\n          userInfo: action.payload,\n        },\n      };\n    case FAIL_REGISTER_REQUEST:\n      return {\n        ...state,\n        userRegister: {\n          ...state.userRegister,\n          loading: false,\n          userInfo: null,\n          error: action.payload,\n        },\n      };\n    case LOGOUT_REQUEST:\n      cartItems = [];\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          userInfo: null,\n        },\n      };\n    case REMEMBER_LOGIN:\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          remember: action.payload,\n        },\n      };\n    case BEGIN_ORDER_CREATE:\n      return {\n        ...state,\n        orderInfo: {\n          ...state.orderInfo,\n          loading: true,\n          success: false,\n        },\n      };\n    case SUCCESS_ORDER_CREATE:\n      return {\n        ...state,\n        orderInfo: {\n          ...state.orderInfo,\n          loading: false,\n          order: action.payload,\n          success: true,\n          error: null,\n        },\n      };\n    case FAIL_ORDER_CREATE:\n      return {\n        ...state,\n        orderInfo: {\n          ...state.orderInfo,\n          loading: false,\n          order: { id: \"\" },\n          success: false,\n          error: action.payload,\n        },\n      };\n    case RESET_ORDER:\n      return {\n        ...state,\n        orderInfo: {\n          ...state.orderInfo,\n          loading: false,\n          order: { id: \"\" },\n          success: false,\n        },\n        \n      };\n    case BEGIN_ORDER_DETAIL:\n      return {\n        ...state,\n        orderDetail: {\n          ...state.orderDetail,\n          loading: true,\n        },\n      };\n    case SUCCESS_ORDER_DETAIL:\n      return {\n        ...state,\n        orderDetail: {\n          ...state.orderDetail,\n          loading: false,\n          order: action.payload,\n        },\n      };\n    case FAIL_ORDER_DETAIL:\n      return {\n        ...state,\n        orderDetail: {\n          ...state.orderDetail,\n          loading: false,\n          error: action.payload,\n        },\n      };\n    default:\n      return state;\n  }\n}\n\nexport function StoreProvider(props) {\n  const [state, dispatch] = useReducerWithThunk(\n    reducer,\n    initialState,\n    \"example\"\n  );\n  const value = { state, dispatch };\n\n  useEffect(()=>{\n    console.log(state)\n  },[state])\n\n  return (\n    <StoreContext.Provider value={value}>\n      {props.children}\n    </StoreContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
(this.webpackJsonpwka=this.webpackJsonpwka||[]).push([[0],{139:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(21),n=a.n(s),r=a(35),i=a(20),o=(a(139),a(178)),l=a(49),j=a(180),d=a(65),u=a(22),m=a(123),b="SET_PAGE_TITLE",p="SET_PAGE_CONTENT",h="SET_PRODUCT_DETAIL",O="SET_NAVBAR_ACTIVEITEM",x="ADD_CART_ITEM",v="REMOVE_CART_ITEM",f=a(2),g=Object(c.createContext)(),N=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],y={allProducts:[],page:{title:"NORDIC NEST Shopping Cart",products:[]},productDetail:{product:[],qty:1},navBar:{activeItem:"/"},cartItems:N};function C(e,t){switch(console.log(t.type),t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{page:Object(u.a)(Object(u.a)({},e.page),{},{title:t.payload})});case p:return Object(u.a)(Object(u.a)({},e),{},{page:t.payload});case O:return Object(u.a)(Object(u.a)({},e),{},{navBar:{activeItem:t.payload}});case x:var a=t.payload,c=e.cartItems.find((function(e){return e.id===a.id}));return c?(N=e.cartItems.map((function(e){return e.id===c.id?a:e})),Object(u.a)(Object(u.a)({},e),{},{cartItems:N})):(N=[].concat(Object(d.a)(e.cartItems),[a]),Object(u.a)(Object(u.a)({},e),{},{cartItems:N}));case v:return N=e.cartItems.filter((function(e){return e.id!==t.payload})),Object(u.a)(Object(u.a)({},e),{},{cartItems:N});case h:return Object(u.a)(Object(u.a)({},e),{},{productDetail:Object(u.a)(Object(u.a)({},e.productDetail),t.payload)});default:return e}}function k(e){var t=Object(m.a)(C,y,"example"),a=Object(l.a)(t,2),c={state:a[0],dispatch:a[1]};return Object(f.jsx)(g.Provider,{value:c,children:e.children})}var I=a(40),w=a.n(I),S=a(66),T=a(102),E=a.n(T),A=a(82),P="http://localhost:5000/api/v1",_=function(){var e=Object(S.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(P,"/products/id/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(S.a)(w.a.mark((function e(t){var a,c,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=A.find((function(e){return e.url===t})),c=a.name||"allProducts",console.log("getProducts API with url = ".concat(c)),"allProducts"!==c){e.next=9;break}return e.next=6,E.a.get("".concat(P,"/products/all"));case 6:s=e.sent,e.next=12;break;case 9:return e.next=11,E.a.get("".concat(P,"/products/").concat(c));case 11:s=e.sent;case 12:return console.log("data from API = "),console.log(s),e.abrupt("return",s.data);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e,t,a){var c={id:t.id,category:t.category,name:t.name,image:t.image,price:t.price,countInStock:t.countInStock,qty:a};e({type:x,payload:c})},q=function(){var e=Object(S.a)(w.a.mark((function e(t,a,c){var s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("SET_PRODUCT_DETAIL ACTION"),e.next=3,_(a);case 3:s=e.sent,t(0===c?{type:h,payload:{product:s}}:{type:h,payload:{product:s,qty:c}});case 5:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),L=function(){var e=Object(S.a)(w.a.mark((function e(t,a,c){var s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("SET_PAGE ACTION"),s=[],t({type:b,payload:c}),e.prev=3,e.next=6,F(a);case 6:s=e.sent,t({type:p,payload:{title:c,products:s}}),t({type:O,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a,c){return e.apply(this,arguments)}}();function M(e){var t=e.children,a=e.to,s=e.className,n=e.activeClassName,i=e.onClose,o=Object(c.useContext)(g),l=o.state,j=o.dispatch;return Object(f.jsx)(r.b,{to:"".concat(a),children:Object(f.jsx)("div",{onClick:function(){L(j,a,t),i&&i()},className:"\n            ".concat(s," \n            ").concat(l.navBar.activeItem===a?n:""),children:t})})}function J(e){var t=e.onClick,a=e.isOnTouch;return Object(f.jsx)(f.Fragment,{children:a?Object(f.jsxs)("span",{onClick:t,className:"ham-menu show-mobile",children:[Object(f.jsx)("span",{className:"ham-menu-bar1 ham-menu-bar1--touch"}),Object(f.jsx)("span",{className:"ham-menu-bar2 ham-menu-bar2--touch"}),Object(f.jsx)("span",{className:"ham-menu-bar3 ham-menu-bar3--touch"})]}):Object(f.jsxs)("span",{onClick:t,className:"ham-menu show-mobile",children:[Object(f.jsx)("span",{className:"ham-menu-bar1"}),Object(f.jsx)("span",{className:"ham-menu-bar2"}),Object(f.jsx)("span",{className:"ham-menu-bar3"})]})})}function R(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],n=function(){return s(!1)};return Object(f.jsxs)("div",{children:[Object(f.jsx)(J,{onClick:function(){return s(!a)},isOnTouch:a}),Object(f.jsxs)("div",{className:"nav-bar collapse-mobile",children:[Object(f.jsx)(M,{to:"/tableware",className:"nav-item",activeClassName:"nav-item--active",children:"Tableware"}),Object(f.jsx)(M,{to:"/cookware",className:"nav-item",activeClassName:"nav-item--active",children:"Cookware"}),Object(f.jsx)(M,{to:"/home-accessories",className:"nav-item",activeClassName:"nav-item--active",children:"Home Accessories"}),Object(f.jsx)(M,{to:"/lighting",className:"nav-item",activeClassName:"nav-item--active",children:"Lighting"}),Object(f.jsx)(M,{to:"/textile",className:"nav-item",activeClassName:"nav-item--active",children:"Textile"}),Object(f.jsx)(M,{to:"/furniture",className:"nav-item",activeClassName:"nav-item--active",children:"Furniture"}),Object(f.jsx)(M,{to:"/admin/feed-products",className:"nav-item",activeClassName:"nav-item--active",children:"JSON Feeder"})]}),Object(f.jsxs)(j.a,{title:" ",placement:"left",closable:!1,onClose:n,visible:a,width:400,zIndex:99,bodyStyle:{backgroundColor:"#111828"},headerStyle:{backgroundColor:"#111828",color:"#fff"},children:[Object(f.jsx)(M,{onClose:n,to:"/tableware",className:"nav-item",activeClassName:"nav-item--active",children:"Tableware"}),Object(f.jsx)(M,{onClose:n,to:"/cookware",className:"nav-item",activeClassName:"nav-item--active",children:"Cookware"}),Object(f.jsx)(M,{onClose:n,to:"/home-accessories",className:"nav-item",activeClassName:"nav-item--active",children:"Home Accessories"}),Object(f.jsx)(M,{onClose:n,to:"/lighting",className:"nav-item",activeClassName:"nav-item--active",children:"Lighting"}),Object(f.jsx)(M,{onClose:n,to:"/textile",className:"nav-item",activeClassName:"nav-item--active",children:"Textile"}),Object(f.jsx)(M,{onClose:n,to:"/furniture",className:"nav-item",activeClassName:"nav-item--active",children:"Furniture"})]},"left")]})}var B=a(181);function z(e){var t=e.size;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 32 32",children:Object(f.jsx)("path",{fill:"none",stroke:"#ffffff",strokeLinecap:"square",strokeWidth:"1.5",d:"M20,4 L24,16 M12,4 L8,16 M3,12 L29,12 C28.3333333,22 26.3333333,27 23,27 C18,27 14,27 9,27 C5.66666667,27 3.66666667,22 3,12 Z"})})}var H=a(177),V=a(179),U=a(75),$=H.a.Option;function G(e){var t=e.isModalVisible,a=e.toggleModal,s=Object(c.useContext)(g),n=s.state.cartItems,i=s.dispatch,o=function(){return a(!t)};return Object(c.useEffect)((function(){localStorage.setItem("cartItems",JSON.stringify(n))}),[n]),Object(f.jsxs)(V.a,{title:"Shopping Bag",visible:t,onCancel:o,footer:null,children:[0===n.length?Object(f.jsx)("div",{children:"Cart is empty"}):n.map((function(e){return Object(f.jsxs)("li",{className:"cart-item",children:[Object(f.jsx)(r.b,{to:"/products/".concat(e.category,"/").concat(e.id),children:Object(f.jsx)("div",{className:"cart-image",onClick:function(){q(i,e.id,e.qty),o()},children:Object(f.jsx)("img",{src:e.image,alt:e.name})})}),Object(f.jsxs)("div",{className:"cart-item-content",children:[Object(f.jsx)("div",{className:"cart-name",children:e.name}),Object(f.jsxs)("div",{className:"product-qty",children:["Qty: ","   ",Object(f.jsx)(H.a,{defaultValue:e.qty,value:e.qty,className:"select-style",onChange:function(t){return D(i,e,t)},children:Object(d.a)(Array(e.countInStock).keys()).map((function(e){return Object(f.jsx)($,{value:e+1,children:e+1},e+1)}))})]})]}),Object(f.jsxs)("div",{className:"cart-item-end",children:[Object(f.jsxs)("div",{className:"cart-price",children:["$",e.price*e.qty]}),Object(f.jsx)("div",{className:"cart-item-delete",onClick:function(){return function(e,t){e({type:v,payload:t})}(i,e.id)},children:"x"})]})]},e.id)})),Object(f.jsxs)("div",{className:"cart-total-price-wrap",children:["Total",Object(f.jsxs)("div",{className:"cart-total-price",children:["$",n.length>0?n.reduce((function(e,t){return e+t.price*t.qty}),0):0]})]}),Object(f.jsxs)(U.a,{className:"cart-modal-btn",type:"primary",children:[Object(f.jsx)(z,{size:20}),Object(f.jsx)("span",{style:{marginLeft:12},children:"Start Checkout"})]})]})}function Q(){var e=Object(c.useContext)(g).state.cartItems,t=Object(c.useState)(!1),a=Object(l.a)(t,2),s=a[0],n=a[1],r=function(){return n(!s)},i=e.length>0?e.reduce((function(e,t){return e+t.qty}),0):0;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("nav",{onClick:r,className:"header-cart-summary",children:[Object(f.jsx)(B.a,{count:i,size:"small",style:{color:"white",backgroundColor:"#6366F2"},children:Object(f.jsx)(z,{size:32})}),Object(f.jsx)("p",{className:"cart-summary-text",children:" Shopping bag "})]}),Object(f.jsx)(G,{isModalVisible:s,toggleModal:r})]})}function W(e){var t=e.title,a=Object(c.useContext)(g).dispatch;return Object(f.jsxs)("header",{className:"header",children:[Object(f.jsxs)("div",{className:"header-wrap",children:[Object(f.jsxs)("div",{className:"header-text",onClick:function(){L(a,"/","NORDIC NEST Shopping Cart")},children:[Object(f.jsx)(r.b,{to:"/",children:Object(f.jsx)("h1",{className:"header-title",children:t})}),Object(f.jsx)("p",{className:"header-slogan",children:"An example made by Create-React-App."})]}),Object(f.jsx)(Q,{})]}),Object(f.jsx)("hr",{className:"hr-header-line"})]})}function Z(){return Object(f.jsxs)("footer",{className:"footer",children:[Object(f.jsx)("hr",{className:"hr-footer-line"}),Object(f.jsx)("p",{className:"text-gray",children:"Copyright."})]})}var K=a(175),X=a(69),Y=a(38),ee=a(56),te=a(176);function ae(e){var t=e.product,a=Object(c.useContext)(g).dispatch;return Object(f.jsxs)(te.a,{className:"bg-gray product",children:[Object(f.jsx)(r.b,{to:"/products/".concat(t.category,"/").concat(t.id),onClick:function(){console.log("click on product item image"),q(a,t.id,1)},children:Object(f.jsx)("img",{style:{width:"100%"},src:t.image,alt:t.name})}),Object(f.jsxs)("div",{className:"product-info",children:[Object(f.jsx)("h6",{className:"product-category",children:t.category}),Object(f.jsx)("h2",{className:"product-name",children:t.name}),Object(f.jsx)("p",{className:"product-description",children:t.description}),Object(f.jsxs)("div",{className:"product-more",children:[Object(f.jsx)(r.b,{to:"/products/".concat(t.category,"/").concat(t.id),className:"product-link",onClick:function(){console.log("click on product item more text"),q(a,t.id,1)},children:"See More ..."}),Object(f.jsxs)("span",{className:"text-gray",children:["USD ",t.price,".00"]})]})]})]})}function ce(){var e=Object(c.useContext)(g).state.page.products,t=Object(f.jsx)(ee.a,{style:{fontSize:80,color:"#8183ff"},spin:!0});return Object(f.jsx)(f.Fragment,{children:e?Object(f.jsx)(X.a,{gutter:[32,32],children:e.map((function(e){return Object(f.jsx)(Y.a,{sm:{span:12},md:{span:8},xxl:{span:6},children:Object(f.jsx)(ae,{product:e})},e.id)}))}):Object(f.jsx)("div",{className:"spinner-wrap",children:Object(f.jsx)(K.a,{indicator:t,className:"spinner"})})})}var se=o.a.Header,ne=o.a.Content,re=o.a.Footer;var ie=function(){var e=Object(c.useContext)(g),t=e.state.page,a=t.products,s=t.title,n=e.dispatch;return Object(c.useEffect)((function(){if(0==a.length){var e=window.location.pathname;L(n,e,function(e){return A.find((function(t){return t.url===e})).title}(e))}}),[]),Object(f.jsxs)(o.a,{className:"container main-layout",children:[Object(f.jsx)(o.a,{className:"bg-gray nav-area",children:Object(f.jsx)(R,{})}),Object(f.jsxs)(o.a,{className:"bg-gray main-area",children:[Object(f.jsx)(se,{className:"layout-header",children:Object(f.jsx)(W,{title:s})}),Object(f.jsx)(ne,{className:"layout-content",children:Object(f.jsx)(ce,{})}),Object(f.jsx)(re,{className:"layout-footer",children:Object(f.jsx)(Z,{})})]})]})},oe=a(133);function le(){var e=Object(c.useContext)(g),t=e.state,a=t.cartItems,s=t.productDetail,n=s.product,r=s.qty,i=e.dispatch;return Object(c.useEffect)((function(){localStorage.setItem("cartItems",JSON.stringify(a))}),[a]),Object(f.jsxs)(U.a,{type:"primary",className:"btn-tocar",onClick:function(){oe.a.open({message:"Shopping Notification",description:"".concat(r," ").concat(r>1?"pieces":"piece"," of ").concat(n.name," ").concat(r>1?"have":"has"," been added to your cart."),onClick:function(){console.log("Notification Clicked!")},placement:"bottomRight"}),D(i,n,r)},children:[Object(f.jsx)(z,{size:20}),Object(f.jsx)("span",{style:{marginLeft:12},children:"Add To Shopping Bag"})]})}var je=H.a.Option;var de=function(){var e=Object(c.useContext)(g),t=e.state.productDetail,a=t.product,s=t.qty,n=e.dispatch;return Object(f.jsxs)(X.a,{gutter:[32,32],children:[Object(f.jsx)(Y.a,{span:24,lg:{span:10,offset:1},children:Object(f.jsx)("img",{alt:"",className:"product-image",src:a.image})}),Object(f.jsx)(Y.a,{lg:{span:12},children:Object(f.jsxs)("div",{className:"product-info--detail",children:[Object(f.jsx)("h2",{className:"product-category",children:a.category}),Object(f.jsx)("h1",{className:"product-name product-name--large",children:a.name}),Object(f.jsx)("p",{className:"product-description",children:a.description_long}),Object(f.jsxs)("div",{className:"product-price-wrap",children:[Object(f.jsxs)("p",{className:"product-price product-price--large",children:["$",a.price,".00"]}),Object(f.jsxs)("p",{className:"product-status",children:["Status: ",a.countInStock>0?"In Stock":"Unavailable."]}),Object(f.jsxs)("div",{className:"product-qty",children:["Qty: ","   ",Object(f.jsx)(H.a,{defaultValue:s,value:s,className:"select-style",onChange:function(e){return q(n,a.id,e,a.category)},children:Object(d.a)(Array(a.countInStock).keys()).map((function(e){return Object(f.jsx)(je,{value:e+1,children:e+1},e+1)}))})]}),Object(f.jsxs)("p",{className:"product-qty",children:["Total Price: $",a.price*s]}),Object(f.jsx)(le,{})]})]})})]})},ue=o.a.Header,me=o.a.Content,be=o.a.Footer;var pe=function(e){var t=e.match,a=Object(c.useContext)(g),s=a.dispatch,n=a.state.page.products;return Object(c.useEffect)((function(){0==n.length&&(console.log("call setProductDetail from Product Page useEffect"),q(s,t.params.productId,0))}),[]),Object(f.jsxs)(o.a,{className:"container main-layout",children:[Object(f.jsx)(o.a,{className:"bg-gray nav-area",children:Object(f.jsx)(R,{})}),Object(f.jsxs)(o.a,{className:"bg-gray main-area",children:[Object(f.jsx)(ue,{className:"layout-header",children:Object(f.jsx)(W,{title:"Product Detail"})}),Object(f.jsx)(me,{className:"layout-content",children:Object(f.jsx)(de,{})}),Object(f.jsx)(be,{className:"layout-footer",children:Object(f.jsx)(Z,{})})]})]})};function he(){return Object(f.jsx)(X.a,{gutter:[32,32],children:Object(f.jsx)(Y.a,{md:{span:24},children:Object(f.jsx)("div",{className:"feed",children:Object(f.jsxs)(te.a,{className:"feed-item",children:[Object(f.jsx)("div",{className:"feed-item__content",children:Object(f.jsx)("h2",{className:"feed-item__name",children:"Feed JSON data to FireStore"})}),Object(f.jsx)(U.a,{className:"cart-modal-btn",type:"primary",children:Object(f.jsx)("span",{style:{marginLeft:12},children:"Feed"})})]})})})})}var Oe=o.a.Header,xe=o.a.Content,ve=o.a.Footer;var fe=function(){return Object(f.jsxs)(o.a,{className:"container main-layout",children:[Object(f.jsx)(o.a,{className:"bg-gray nav-area",children:Object(f.jsx)(R,{})}),Object(f.jsxs)(o.a,{className:"bg-gray main-area",children:[Object(f.jsx)(Oe,{className:"layout-header",children:Object(f.jsx)(W,{title:"Feed JSON Page"})}),Object(f.jsx)(xe,{className:"layout-content",children:Object(f.jsx)(he,{})}),Object(f.jsx)(ve,{className:"layout-footer",children:Object(f.jsx)(Z,{})})]})]})};var ge=function(){return Object(f.jsx)(k,{children:Object(f.jsx)(r.a,{children:Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{exact:!0,path:"/",component:ie}),Object(f.jsx)(i.a,{exact:!0,path:"/:pageName",component:ie}),Object(f.jsx)(i.a,{exact:!0,path:"/admin/feed-products",component:fe}),Object(f.jsx)(i.a,{exact:!0,path:"/products/:category/:productId",component:pe})]})})})};n.a.render(Object(f.jsx)(ge,{}),document.getElementById("root"))},82:function(e){e.exports=JSON.parse('[{"title":"NORDIC NEST Shopping Cart","name":"allProducts","url":"/"},{"title":"Cookware","name":"Cookware","url":"/cookware"},{"title":"Furniture","name":"Furniture","url":"/furniture"},{"title":"Home Acessories","name":"Home Accessories","url":"/home-accessories"},{"title":"Lighting","name":"Lighting","url":"/lighting"},{"title":"Tableware","name":"Tableware","url":"/tableware"},{"title":"Textile","name":"Textile","url":"/textile"},{"title":"Feed JSON Page","name":"FeedJSONPage","url":"/admin/feed-products"}]')}},[[172,1,2]]]);
//# sourceMappingURL=main.f15b19b5.chunk.js.map